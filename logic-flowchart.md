```mermaid
graph TD
    subgraph "Основен цикъл"
        A(Старт на приложението) --> B[Таймерът стартира];
        B --> C{Таймерът работи};
        C -->|На всеки 5 мин| D[Кортизол +5];
        D --> C;
        C -->|Достига 45 мин| E(СТОП ТАЙМЕР);
    end
    E --> F[Показва &quot;Крузо Аларм&quot; с ФВС Мисия];
    F --> G[Бутон &apos;Изпълних Мисията!&apos;];
    F --> H[Бутон &apos;Отказвам&apos;];
    subgraph "Път 1: Изпълнение (Награда)"
        G --> I[Прилага &apos;Награда&apos;];
        I --> I1(Кортизол -15);
        I --> I2(Ендорфини +20);
        I1 --> I3[Проверка: < 0 ? Задай на 0];
        I2 --> I3;  
        I3 --> I4[Показва &apos;Браво!&apos;];
        I4 --> Z(НУЛИРАНЕ НА ТАЙМЕР);
    end
    subgraph "Път 2: Отказ (Етичен Филтър)"
        H --> K[Показва &apos;Етичен Филтър&apos; (6 въпроса)];
        K --> L{Изпращане на отговори};
        L --> M{Отговори &apos;Да&apos; >= 3 ?};

        M -- "НЕ (Нисък риск)" --> N[Прилага &apos;Наказание&apos;];
        N --> N1(Ендорфини -20);
        N --> N2(Кортизол: БЕЗ ПРОМЯНА);
        N1 --> N3[Проверка: < 0 ? Задай на 0];
        N3 --> Z;
        N2 --> Z; 
        M -- "ДА (Висок риск)" --> O[Показва &apos;Кризисен Панел&apos;];
        O --> P(Натиска &apos;Разбрах&apos;);
        P --> N;
    end
    Z --> B;
```
